window.repositoryObject = {"parameters_custom_fields":[],"object_id":"f287","name":"public.search_org_structure","subtype":"FUNCTION","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"Hasura","id":"d4"}},{"field":"Schema","value":"public"},{"field":"Name","value":"search_org_structure"},{"field":"Type","value":"Function"}],"script":"CREATE OR REPLACE FUNCTION public.search_org_structure(hasura_session json, search text)\r\n RETURNS SETOF org_structure\r\n LANGUAGE plpgsql\r\n STABLE\r\nAS $function$\r\nDECLARE\r\n  acl_path_regexp text[];\r\nBEGIN\r\n    acl_path_regexp := get_acl_path_regexp(hasura_session);\r\n\r\n    RETURN QUERY SELECT * \r\n    FROM org_structure \r\n    WHERE path LIKE ANY (acl_path_regexp) AND name ILIKE search AND is_active = TRUE \r\n    LIMIT 20;\r\nEND\r\n$function$","parameters":[{"name":"Returns","description":null,"mode":"OUT","data_type":"org_structure","custom_fields":{}},{"name":"hasura_session","description":null,"mode":"IN","data_type":"json","custom_fields":{}},{"name":"search","description":null,"mode":"IN","data_type":"text","custom_fields":{}}],"dependencies":{"uses":[],"used_by":[]},"imported_at":"2024-02-15 12:25"};