window.repositoryObject = {"parameters_custom_fields":[],"object_id":"f183","name":"public.get_channels","subtype":"FUNCTION","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"Hasura","id":"d4"}},{"field":"Schema","value":"public"},{"field":"Name","value":"get_channels"},{"field":"Type","value":"Function"}],"script":"CREATE OR REPLACE FUNCTION public.get_channels(_filter_name text, _filter_name2 text DEFAULT NULL::text, _filter_name3 text DEFAULT NULL::text)\r\n RETURNS SETOF matrix_filters_f\r\n LANGUAGE plpgsql\r\n STABLE\r\nAS $function$\r\nDECLARE\r\n  select_query text;\r\nBEGIN\r\n    select_query := 'SELECT * FROM (SELECT distinct info->>' || quote_literal(_filter_name) || ' as name, ' \r\n      || CASE WHEN _filter_name2 IS NOT NULL THEN ' info->>' ||  quote_literal(_filter_name2) ELSE ' null ' END || ' as name2, '\r\n      || CASE WHEN _filter_name3 IS NOT NULL THEN ' info->>' ||  quote_literal(_filter_name3) ELSE ' null ' END || ' as name3 '\r\n      || ' FROM pos p ';\r\n    \r\n    select_query := select_query || ' ) filters ';\r\n    \r\n    select_query := select_query || ' ORDER BY name';\r\n\r\n    select_query := select_query || ' LIMIT 500 ';\r\n\r\n    RETURN QUERY EXECUTE select_query;\r\nEND\r\n$function$","parameters":[{"name":"Returns","description":null,"mode":"OUT","data_type":"matrix_filters_f","custom_fields":{}},{"name":"_filter_name","description":null,"mode":"IN","data_type":"text","custom_fields":{}},{"name":"_filter_name2","description":null,"mode":"IN","data_type":"text","custom_fields":{}},{"name":"_filter_name3","description":null,"mode":"IN","data_type":"text","custom_fields":{}}],"dependencies":null,"imported_at":"2023-11-29 12:21"};