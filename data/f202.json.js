window.repositoryObject = {"parameters_custom_fields":[],"object_id":"f202","name":"public.get_survey_result_for_call","subtype":"FUNCTION","is_user_defined":false,"description":null,"summary":[{"field":"Documentation","value":{"_type":"link","name":"Hasura","id":"d4"}},{"field":"Schema","value":"public"},{"field":"Name","value":"get_survey_result_for_call"},{"field":"Type","value":"Function"}],"script":"CREATE OR REPLACE FUNCTION public.get_survey_result_for_call(hasura_session json, _call integer)\r\n RETURNS SETOF survey_result\r\n LANGUAGE plpgsql\r\n STABLE\r\nAS $function$\r\nDECLARE\r\nBEGIN\r\n    RETURN QUERY\r\n    SELECT * FROM survey_result \r\n    WHERE call_id = _call \r\n    -- AND user_id = (hasura_session->>'x-hasura-user-id')::text\r\n    AND completed_at IS NOT NULL;\r\nEND\r\n$function$","parameters":[{"name":"Returns","description":null,"mode":"OUT","data_type":"survey_result","custom_fields":{}},{"name":"hasura_session","description":null,"mode":"IN","data_type":"json","custom_fields":{}},{"name":"_call","description":null,"mode":"IN","data_type":"integer","custom_fields":{}}],"dependencies":{"uses":[],"used_by":[]},"imported_at":"2024-02-15 12:25"};